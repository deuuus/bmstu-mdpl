PUBLIC PRINT_UD_NUM
PUBLIC PRINT_SH_NUM

EXTRN NUMBER : WORD
EXTRN BUFFER : BYTE
EXTRN MASK_SIGN : WORD

EXTRN CONVERT_TO_UD : NEAR
EXTRN CONVERT_TO_SH : NEAR

DSEG SEGMENT PARA PUBLIC 'DATA'
	CNV_MSG DB 13, 10, 13, 10, "Converted number: $"
DSEG ENDS

CSEG SEGMENT PARA PUBLIC 'CODE'
	ASSUME DS:DSEG, CS:CSEG

PRINT_UD_NUM PROC NEAR

	CALL CONVERT_TO_UD

	MOV AH, 09h
	MOV DX, OFFSET CNV_MSG
	INT 21h
	
	MOV AH, 02h
	DEC SI
	
	REVERT_PRINT:
		MOV DL, BUFFER[SI]
		INT 21h
		DEC SI
		CMP SI, -1
		JNE REVERT_PRINT
	
	RET
PRINT_UD_NUM ENDP

PRINT_SH_NUM PROC NEAR

	CALL CONVERT_TO_SH
		
	MOV AH, 09H
	MOV DX, OFFSET CNV_MSG
	INT 21H
	
	MOV AH, 02H
	MOV DI, 3
	
	CMP CX, MASK_SIGN
	JNE DEL_LED_ZEROS
	MOV DL, '-'
	INT 21H
	XOR CX, CX

	DEL_LED_ZEROS:
		MOV CL, BUFFER[DI]
		CMP CX, '0'
		JNE REVERT_PRINT
		DEC DI
		JNZ DEL_LED_ZEROS
		
	REVERT_PRINT:
		MOV DL, BUFFER[DI]
		INT 21H
		DEC DI
		MOV DX, DI
		CMP DX, -1
		JNE REVERT_PRINT
		
	RET
PRINT_SH_NUM ENDP
CSEG ENDS
END